
<div class="container-fluid commonRightbarTop">
	<div class="row page-title-div">
		<div class="col-md-12">
			<h2 class="title">
				Add New Company
				<button type="button" class="btn pull-right addBtnPopup"
				 id="addCompany"	ng-click="getPrerequisite()" data-toggle="modal"
					data-target="#NewAddWizard">
					<!-- <img src="img/add.png" alt="add"> -->
			<i class="fa fa-plus-circle" aria-hidden="true"></i>
				</button>
			</h2>
		</div>
	</div>
	<!-- /.row -->
	<div class="row breadcrumb-div">
		<div class="col-md-6">
			<ul class="breadcrumb">
				<li><a href="#/"><i class="fa fa-home"></i> Home</a></li>
				<li class="active">Company</li>
			</ul>
		</div>
	</div>
	<!-- /.row -->
</div>

<!-- /.container-fluid -->
<!-- new add form of asset -->
<div id="NewAddWizard" class="modal fade" role="dialog"
	data-backdrop="false" style="background-color: rgba(0, 0, 0, 0.5)"
	data-keyboard="false" >
	<div class="modal-dialog">
		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					ng-click="modalClose()">&times;</button>
				<h4 class="modal-title">Add Company</h4>
			</div>
			<div class="modal-body addAsset-modalbody">
				<form name="companyForm">
				<div ng-show="error" class="alert alert-danger" align="center">        Error! {{message}}</div>
					<div class="col-xs-12 common-addform default-form" id="imagingDiv">
						<div class="row setup-content">
							<div class="col-xs-12 nopadding">
								<div class="form-group">
									<div class="checkboxFive" ng-show="defaultCompanyValue==false">
										<label for="Dcomp"><input class="blue_style"
											id="Dcomp" type="checkbox" name="pentaBaseDefaultCom"
											ng-model="company.pentaBaseDefaultCom" ng-required="!defaultCompanyValue">
											Default Company</label>
									</div>
									<div class="commonValidate"
										ng-show="companyForm.pentaBaseDefaultCom.$touched && companyForm.pentaBaseDefaultCom.$invalid ">
										<strong>Default Company is required field!</strong>
									</div>
								</div>
								<div class="form-group">
									<label for="name">Company Name</label> <input type="text"
										placeholder=" Company Name" name="companyName"
										ng-model="company.pentaBaseLegalName" maxlength="40"
										ng-pattern="/^[a-zA-Z][a-zA-Z0-9-\s]+$/"
										class="form-control common-control" required />
									<!--  <span
										class="login-icon"><img src="img/curr.png"
										alt="home icon"></span> -->
								</div>

								<div class="commonValidate"
									ng-show="companyForm.companyName.$error.pattern">
									<strong>Field must start with an alphabet (min 2
										characters are required) and special Characters are not
										allowed.!</strong>
								</div>

								<div class="commonValidate"
									ng-show="companyForm.companyName.$touched && companyForm.companyName.$invalid">
									<strong> Company Name is required field ! </strong>
								</div>
								<div class="form-group">
									<label for="name">Company Code</label> <input type="number"
										placeholder="Company Code" ng-pattern="/^[0-9]+$/"
										maxlength="20" name="pentaBaseAddCode"
										ng-model="company.pentaBaseAddCode"
										class="form-control common-control" required />
									<!--  <span
										class="login-icon"><img src="img/aveg.png"
										alt="home icon"></span> -->
								</div>

								<div class="commonValidate"
									ng-show="companyForm.pentaBaseAddCode.$error.pattern">
									<strong>Negative value is not allowed..!</strong>
								</div>
								<div class="commonValidate"
									ng-show="companyForm.pentaBaseAddCode.$touched && companyForm.pentaBaseAddCode.$invalid">
									<strong>Required field* (Limit : 1-20)</strong>
								</div>
								<div class="form-group" ng-init="getAllCurrency()">
									<label for="name">Select Currency</label>

									<multiselect class="form-group select-type common-control"
										id="currencySelected" ng-model="company.currencies"
										id-prop="pentaBaseCurCode" display-prop="pentaBaseCurName"
										placeholder="Select Currency" name="currencySelect"
										options="currencyLists" show-search="true"
										ng-change="validateCurrency()" required> </multiselect>
									<!-- 	<span class="login-icon"><img src="img/region.png"
										alt="home icon"></span> -->
								</div>
								<div class="commonValidate" id="currencyvalidate">
									<strong>Please choose atleast one currency !</strong>
								</div>
							</div>

							<div class="col-xs-12 nopadding">
								<button
									class="btn btn-primary login-btn pull-right default-radius"
									ng-disabled="companyForm.$invalid " 
									ng-click="addCompany()">Submit</button>
							</div>


						</div>
					</div>
				</form>
			</div>

		</div>
	</div>
</div>

<!-- Edit Data Start -->
<div id="edit" tabindex="-1" class="modal fade" role="dialog"
	data-backdrop="false" style="background-color: rgba(0, 0, 0, 0.5)"
	data-keyboard="false">
	<div class="modal-dialog">
		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					ng-click="modalClose()">&times;</button>
				<h4 class="modal-title">Edit Company</h4>
			</div>
			<div class="modal-body addAsset-modalbody">
				<form name="companyForms">
					<div class="col-xs-12 nopadding">
						<div class="form-group">

							<div class="checkboxFive"
								ng-show="companyData.pentaBaseDefaultCom==false">

								<label for="Dcomp"><input class="blue_style" id="Dcomp"
									type="checkbox" name="pentaBaseDefaultCom"
									ng-model="company.pentaBaseDefaultCom">Default Company</label>
							</div>
							<label for="name">Company Name</label><input type="text"
								placeholder="Company Name" name="companyName"
								ng-model="companyData.pentaBaseLegalName"
								ng-pattern="/^[a-zA-Z][a-zA-Z0-9-\s]+$/"
								class="form-control common-control" required />
							<!--  <span
							class="login-icon"><img src="img/curr.png" alt="home icon"></span> -->
						</div>
						<div class="commonValidate"
							ng-show="companyForms.companyName.$error.pattern">
							<strong>Field must start with an alphabet (min 2
								characters are required) and special Characters are not
								allowed.!</strong>
						</div>

						<div class="commonValidate"
							ng-show="companyForms.companyName.$touched && companyForms.companyName.$invalid">
							<strong> Company Name is required feild !</strong>
						</div>
						<div class="form-group">
							<label for="name">Company Code</label><input type="text"
								placeholder="Company Code" name="pentaBaseAddCode"
								ng-model="companyData.pentaBaseAddCode" ng-pattern="/^[0-9]+$/"
								maxlength="20" class="form-control common-control" required />
							<!-- <span
							class="login-icon"><img src="img/aveg.png" alt="home icon"></span> -->
						</div>

						<div class="commonValidate"
							ng-show="companyForms.pentaBaseAddCode.$error.pattern">
							<strong>Negative value is not allowed..!</strong>
						</div>
						<div class="commonValidate"
							ng-show="companyForms.pentaBaseAddCode.$touched && companyForms.pentaBaseAddCode.$invalid">
							<strong>Required field* (Limit : 1-20)</strong>
						</div>
						<div>
							<div class="form-group" >
								<label for="multiSelect">Select Currency</label>
									<multiselect id="multipleSelect" ng-model="companyData.currencies"
							id-prop="pentaBaseCurCode"
							class="form-group select-type common-control"
							display-prop="pentaBaseCurName" placeholder="Select Currency"
							name="currencySelect" options="currencyLists" show-search="true">
						</multiselect>
								<!-- <span class="login-icon"><img src="img/region.png"
							alt="home icon"></span> -->
							</div>
						</div>

						<div class="commonValidateSelect"
							ng-show="companyForm.currencySelect.$touched && companyForm.currencySelect.$invalid">
							<strong> Select Currencies is required field!</strong>
						</div>
					</div>
					<div class="col-xs-12 ">
						<button
							class="btn btn-primary login-btn pull-right default-radius"
							ng-disabled="companyForms.$invalid" data-dismiss="modal"
							ng-click="updateCompany(companyData)">Submit</button>
						<button class="btn btn-primary login-btn default-radius "
							ng-click="cancel()" data-dismiss="modal">Cancel</button>
					</div>
				</form>
			</div>

		</div>
	</div>
</div>
<!-- Edit Data End -->

<!-- Delete Data start -->
<div id="delete" tabindex="-1" class="modal fade" role="dialog"
	data-backdrop="false" style="background-color: rgba(0, 0, 0, 0.5)"
	data-keyboard="false">
	<div class="modal-dialog">
		<!-- Modal content-->
		<div class="modal-content">

			<div class="modal-body addAsset-modalbody">
				<div id="wizard-container">

					<div id="wizard-step-container">
						<div class="modal-body addAsset-modalbody">
							<p class="success-message deleteMsg">Are you sure you wish to
								delete this Company ?</p>
						</div>
						<div class="modal-footer deleteFooter">
							<button class="btn deletePopBtn default-radius"
								data-dismiss="modal" ng-click="deleteCompany()">
								<img src="img/right.png" alt="yes" />
							</button>
							<button class="btn deletePopBtn default-radius"
								ng-click="cancel()" data-dismiss="modal">
								<img src="img/cross.png" alt="no" />
							</button>
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>
</div>
<!-- Delete Data End -->

<!-- List Data Start -->
<!-- <div class="" >
	<section class="section">
		<div class="container-fluid">
			<div class="row">
				<div class="col-md-12">
					<div class="panel">
						<div class="panel-body p-20">
							<table id="example"
								class="display table table-striped table-bordered"
								cellspacing="0" width="100%">
								<thead>
									<tr>
										<th>Company Name</th>
										<th>Company Code</th>
										<th>Status</th>
										<th>Actions</th>
									</tr>
								</thead>
								<tfoot>
									<tr>
										<th>Company Name</th>
										<th>Company Code</th>
										<th>Status</th>
										<th>Actions</th>
									</tr>
								</tfoot>
								<tbody>
								<tr ng-repeat="company in companyLists">
										<td>{{company.pentaBaseLegalName}}</td>
										<td>{{company.pentaBaseAddCode}}</td>
										<td>{{company.pentaBaseDefaultCom}}</td>
										<td><button data-toggle="modal" 
											ng-click="editData(company.pentaBaseComCode)"  
											class="editBtn default-radius">
												<img src="img/edit.png" alt="edit" />
											<i class="fa fa-pencil-square-o" aria-hidden="true"></i>
											</button> <a data-toggle="modal"
											
											ng-click="deleteData(company.pentaBaseComCode)"
											class="editBtn default-radius"><img
												src="img/delete.png" alt="delete" /></a></td>
									</tr>

								</tbody>
							</table>
							<table id="data-table-div" class="display table table-striped table-bordered"
								cellspacing="0" width="100%">
								<thead>									
									<tr>
										<th>Company Name</th>
										<th>Company Code</th>
										<th>Status</th>
										<th>Actions</th>
									</tr>
								</thead>
							</table>
							/.col-md-12
						</div>
					</div>
				</div>
				/.col-md-6
			</div>
			/.row
		</div>
		/.container-fluid
	</section>
	/.section

</div>
 --><!-- List Data End -->
<!-- List of Data in grid view -->
<section class="section listSection" ng-init="getAllCompaniesForGrid()">
	<div class="container-fluid listContFluid">
		<div class="panel-body">
		<div class="col-xs-12 asset-table-list nopadding">
			<div class="col-xs-12 nopadding" >
				<div id="grid1" ui-grid="gridOptions" ui-grid-pagination
					ui-grid-resize-columns ui-grid-move-columns ui-grid-pinning
					ui-grid-selection ui-grid-exporter ui-grid-auto-resize ui-grid-grouping ui-grid-save-state></div>
				<p>Current page: {{ gridApi.pagination.getPage() }} of {{
					gridApi.pagination.getTotalPages() }}</p>
			</div>
		</div>
		</div>
		<!-- end grid view option -->
	</div>
	<!-- /.container-fluid -->
</section>

<script>		
	    $(function(){
	    	$('#example').DataTable();
	    });
	    function editData(id) {
	    	$scope =angular.element(document.getElementById('addCompany')).scope();
	    	$scope.editData(id);
	    	
		}
	</script>

