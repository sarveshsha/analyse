
<div class="container-fluid commonRightbarTop">
	<div class="row page-title-div">
		<div class="col-md-12">
			<h2 class="title">
				Add New Currency
				<button type="button" class="btn pull-right addBtnPopup"
					  id= "addCurrency" ng-click="getPrerequisite()" data-toggle="modal"
					data-target="#NewAddWizard">
					<!-- <img src="img/add.png" alt="add"> -->
			<i class="fa fa-plus-circle" aria-hidden="true"></i>
				</button>
			</h2>
		</div>
	</div>
	<!-- /.row -->
	<div class="row breadcrumb-div">
		<div class="col-md-6">
			<ul class="breadcrumb">
				<li><a href="#/"><i class="fa fa-home"></i> Home</a></li>
				<li class="active">Currency</li>
			</ul>
		</div>
	</div>
	<!-- /.row -->
</div>

<!-- /.container-fluid -->
<!-- new add form of asset -->
<div id="NewAddWizard" class="modal fade" role="dialog"
	data-backdrop="false" style="background-color: rgba(0, 0, 0, 0.5)"
	data-keyboard="false">
	<div class="modal-dialog">
		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					ng-click="modalClose()">&times;</button>
				<h4 class="modal-title">Add Currency</h4>
			</div>
			<div class="modal-body addAsset-modalbody">
				<form name="currencyForm">
					<div class="col-xs-12 common-addform default-form" id="imagingDiv">
						<div class="row setup-content">
							<div ng-show="error" class="alert alert-danger" align="center">
								<strong>Error! </strong>{{message}}
							</div>
							<div class="col-xs-12 nopadding">
								<div class="form-group">
									<div class="blue-style" id="currency"
										ng-show="defaultCurrencyValue==false">

										<label for="Dcurrency"> <input type="checkbox"
											class="styled-checkbox" name="pentaBaseDefaultCur"
											id="Dcurrency" ng-model="currency.pentaBaseDefaultCur"
											ng-required="!defaultCurrencyValue" required>Default
											Currency
										</label>
									</div>
									<div class="commonValidate"
										ng-show="currencyForm.pentaBaseDefaultCur.$touched && currencyForm.pentaBaseDefaultCur.$invalid && defaultCurrencyValue">
										<strong>Default Currency is required field!</strong>
									</div>
								</div>
								<div class="form-group">
									<label for="name">Currency Name </label> <input type="text"
										placeholder="Currency Name" maxlength="40" name="currencyName"
										ng-model="currency.pentaBaseCurName"
										ng-pattern="/^[a-zA-Z][a-zA-Z0-9-\s]+$/"
										class="form-control common-control" required />
								</div>

								<div class="commonValidate"
									ng-show="currencyForm.currencyName.$error.pattern">
									<strong>Field must start with an alphabet (character
										limit : 2-40) and special Characters are not allowed.!</strong>
								</div>

								<div class="commonValidate"
									ng-show="currencyForm.currencyName.$touched && currencyForm.currencyName.$invalid">
									<strong> Currency Name is required field ! </strong>
								</div>

								<div class="form-group">
									<label for="name">Exchange Rate From</label> <input
										type="number" placeholder="Exchange Rate From"
										name="exchangeRateFrom" maxlength="1000"
										ng-model="currency.pentaBaseExchngRateFrom"
										ng-pattern="/^[0-9]+$/" class="form-control common-control"
										required />
								</div>
								<div class="commonValidate"
									ng-show="currencyForm.exchangeRateFrom.$error.pattern">
									<strong>Negative value is not allowed..!</strong>
								</div>
								<div class="commonValidate"
									ng-show="currencyForm.exchangeRateFrom.$touched && currencyForm.exchangeRateFrom.$invalid">
									<strong> Required field* (Limit : 1-1000)</strong>
								</div>

								<div class="form-group">
									<label for="name">Exchange Rate To</label> <input type="number"
										placeholder="Exchange Rate To" maxlength="1000"
										name="exchngRateTo" ng-model="currency.pentaBaseExchngRateTo"
										ng-pattern="/^[0-9]+$/" class="form-control common-control"
										required />
								</div>
								<div class="commonValidate"
									ng-show="currencyForm.exchngRateTo.$error.pattern">
									<strong>Negative value is not allowed..!</strong>
								</div>
								<div class="commonValidate"
									ng-show="currencyForm.exchngRateTo.$touched && currencyForm.exchngRateTo.$invalid">
									<strong> Required field* (Limit : 1-1000)</strong>
								</div>
								<div class="form-group">
									<label for="name">Last Average Rate</label> <input
										type="number" placeholder="Last Average Rate" max="1000"
										maxlength="20" name="lastAvgRate"
										ng-model="currency.pentaBaseLastAvgRate"
										ng-pattern="/^[0-9]+$/" class="form-control common-control"
										required />
								</div>
								<div class="commonValidate"
									ng-show="currencyForm.lastAvgRate.$error.pattern">
									<strong>Negative value is not allowed..!</strong>
								</div>
								<div class="commonValidate"
									ng-show="currencyForm.lastAvgRate.$touched && currencyForm.lastAvgRate.$invalid">
									<strong> Required field* (Limit : 1-1000)</strong>
								</div>

							</div>
							<div class="col-xs-12 nopadding">
								<button
									class="btn btn-primary login-btn pull-right default-radius"
									ng-disabled="currencyForm.$invalid" data-dismiss="modal"
									ng-click="addCurrency(currencyForm)">Submit</button>
							</div>

						</div>
					</div>
				</form>
			</div>

		</div>
	</div>
</div>

<!-- Edit Data Start -->
<div id="edit" tabindex="-1" class="modal fade" role="dialog"
	data-backdrop="false" style="background-color: rgba(0, 0, 0, 0.5)"
	data-keyboard="false">
	<div class="modal-dialog">
		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					ng-click="modalClose()">&times;</button>
				<h4 class="modal-title">Edit Currency</h4>
			</div>
			<div class="modal-body addAsset-modalbody">
				<form name="currencyForms">
					<div class="col-xs-12 nopadding">
						<div class="form-group">
							<div class="checkboxFive" id="currency"
								ng-show="currencyData.pentaBaseDefaultCur==false">
								<label for="pentaBaseDefaultCur"><input type="checkbox"
									class="styled-checkbox" name="pentaBaseDefaultCur"
									id="Dcurrency" ng-model="currency.pentaBaseDefaultCur">Default
									Currency </label>
							</div>
						</div>
						<div class="form-group">
							<label for="name">Currency Name <sup class="danger-color">*</sup></label>
							<input type="text" placeholder="Currency Name"
								name="currencyName" uib-popover="Currency Name"
								popover-trigger="'mouseenter'"
								ng-model="currencyData.pentaBaseCurName" maxlength="40"
								ng-pattern="/^[a-zA-Z][a-zA-Z0-9-\s]+$/"
								class="form-control common-control" required />
							<!-- <span
							class="login-icon"><img src="img/curr.png" alt="home icon"></span> -->
						</div>
						<div class="commonValidate"
							ng-show="currencyForms.currencyName.$error.pattern">
							<strong>Field must start with an alphabet (character
								limit : 2-40) and special Characters are not allowed.!</strong>
						</div>

						<div class="commonValidate"
							ng-show="currencyForms.currencyName.$touched && currencyForms.currencyName.$invalid">
							<strong> Currency Name is required feild !</strong>
						</div>
						<div class="form-group">
							<label for="name">Exchange Rate From<sup class="danger-color">*</sup></label>
							<input type="number" placeholder="Exchange Rate From"
								uib-popover="Exchange Rate From" popover-trigger="'mouseenter'"
								name="exchangeRateFrom" maxlength="20" ng-pattern="/^[0-9]+$/"
								ng-model="currencyData.pentaBaseExchngRateFrom"
								ng-pattern="/^-?[0-9]\d*(\.\d+)?$/"
								class="form-control common-control" required />
							<!-- <span
							class="login-icon"><img src="img/exchange.png"
							alt="home icon"></span> -->
						</div>
						<div class="commonValidate"
							ng-show="currencyForms.exchangeRateFrom.$error.pattern">
							<strong>Negative value is not allowed..!</strong>
						</div>
						<div class="commonValidate"
							ng-show="currencyForms.exchangeRateFrom.$touched && currencyForms.exchangeRateFrom.$invalid">
							<strong> Exchange Rate From is required field!</strong>
						</div>
						<div class="form-group">
							<label for="name"> Exchange Rate To <sup class="danger-color">*</sup></label>
							<input type="number" placeholder="Exchange Rate To"
								uib-popover="Exchange Rate To" popover-trigger="'mouseenter'"
								maxlength="1000" name="exchngRateTo"
								ng-model="currencyData.pentaBaseExchngRateTo"
								ng-pattern="/^[0-9]+$/" class="form-control common-control"
								required />
							<!-- <span class="login-icon"><img
							src="img/exchanget.png" alt="home icon"></span> -->
						</div>
						<div class="commonValidate"
							ng-show="currencyForms.exchngRateTo.$error.pattern">
							<strong>Negative value is not allowed..!</strong>
						</div>
						<div class="commonValidate"
							ng-show="currencyForms.exchngRateTo.$touched && currencyForms.exchngRateTo.$invalid">
							<strong> Required field* (Limit : 1-1000)</strong>
						</div>
						<div class="form-group">
							<label for="name">Last Average Rate<sup class="danger-color">*</sup></label>
							<input type="number" placeholder="Last Average Rate"
								uib-popover="Last Average Rate" popover-trigger="'mouseenter'"
								name="lastAvgRate" ng-model="currencyData.pentaBaseLastAvgRate"
								maxlength="1000" ng-pattern="/^[0-9]+$/"
								class="form-control common-control" required />
							<!--  <span
							class="login-icon"><img src="img/aveg.png" alt="home icon"></span> -->
						</div>
						<div class="commonValidate"
							ng-show="currencyForms.lastAvgRate.$error.pattern">
							<strong>Negative value is not allowed..!</strong>
						</div>
						<div class="commonValidate"
							ng-show="currencyForms.lastAvgRate.$touched && currencyForms.lastAvgRate.$invalid">
							<strong> Required field* (Limit : 1-1000)</strong>
						</div>

					</div>
					<div class="col-xs-12 nopadding">
						<button
							class="btn btn-primary login-btn default-radius pull-right"
							ng-disabled="currencyForms.$invalid" data-dismiss="modal"
							ng-click="updateCurrency(currencyData)">Submit</button>
						<button class="btn btn-primary login-btn default-radius "
							ng-click="cancel()" data-dismiss="modal">Cancel</button>
					</div>
				</form>
			</div>

		</div>
	</div>
</div>
<!-- Edit Data End -->

<!-- Delete Data start -->
<div id="delete" tabindex="-1" class="modal fade" role="dialog"
	data-backdrop="false" style="background-color: rgba(0, 0, 0, 0.5)"
	data-keyboard="false">
	<div class="modal-dialog">
		<!-- Modal content-->
		<div class="modal-content">

			<div class="modal-body addAsset-modalbody">
				<div id="wizard-container">

					<div id="wizard-step-container">
						<div class="modal-body addAsset-modalbody">
							<p class="success-message deleteMsg">Are you sure you wish to
								delete this Currency ?</p>
						</div>
						<div class="modal-footer deleteFooter">
							<button class="btn deletePopBtn default-radius"
								ng-click="deleteCurrency(deleteCurrencyId)">
								<img src="img/right.png" alt="yes" />
							</button>
							<button class="btn deletePopBtn default-radius"
								ng-click="cancel()" data-dismiss="modal">
								<img src="img/cross.png" alt="no" />
							</button>
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>
</div>
<!-- Delete Data End -->

<!-- List Data Start -->
<!-- <div class="" >
	<section class="section">
		<div class="container-fluid">
			<div class="row">
				<div class="col-md-12">
					<div class="panel">
						<div class="panel-body p-20">
							<table id="example"
								class="display table table-striped table-bordered"
								cellspacing="0" width="100%">
								<thead>
									<tr>
										<th>Currency Name</th>
										<th>Exchange Rate From</th>
										<th>Exchange Rate To</th>
										<th>Last Average Rate</th>
										<th>Default</th>
										<th>Actions</th>
									</tr>
								</thead>
								<tfoot>
									<tr>
										<th>Currency Name</th>
										<th>Exchange Rate From</th>
										<th>Exchange Rate To</th>
										<th>Last Average Rate</th>
										<th>Default</th>
										<th>Actions</th>
									</tr>
								</tfoot>
								<tbody>
									<tr ng-repeat="currency in currencyLists">
										<td>{{currency.pentaBaseCurName}}</td>
										<td>{{currency.pentaBaseExchngRateFrom}}</td>
										<td>{{currency.pentaBaseExchngRateTo}}</td>
										<td>{{currency.pentaBaseLastAvgRate}}</td>
										<td>{{currency.pentaBaseDefaultCur}}</td>
										<td><button data-toggle="modal" 
											ng-click="editData(currency.pentaBaseCurCode)"
											class="editBtn default-radius">
												<img src="img/edit.png" alt="edit" />
											<i class="fa fa-pencil-square-o" aria-hidden="true"></i>
											</button> <a data-toggle="modal"
											
											ng-click="deleteData(currency.pentaBaseCurCode)"
											class="editBtn default-radius"><img
												src="img/delete.png" alt="delete" /></a></td>
									</tr>

								</tbody>
							</table>
							<table id="data-table-div" class="display table table-striped table-bordered"
								cellspacing="0" width="100%">
								<thead>									
									<tr>
										<th>Currency Name</th>
										<th>Exchange Rate From</th>
										<th>Exchange Rate To</th>
										<th>Last Average Rate</th>
										<th>Default</th>
										<th>Actions</th>
									</tr>
								</thead>
							</table>
							/.col-md-12
							
						</div>
					</div>
				</div>
				/.col-md-6
			</div>
			/.row
		</div>
		/.container-fluid
	</section>
	/.section

</div>
List Data End
 -->
 <!-- List of Data in grid view -->
<section class="section listSection" ng-init="getAllCurrenciesForGrid()">
	<div class="container-fluid listContFluid">
		<div class="panel-body">
		<div class="col-xs-12 asset-table-list nopadding">
			<div class="col-xs-12 nopadding" > <!-- ng-app="pentaWorkflow.asset" ng-controller="AssetController" -->
				<div id="grid1" ui-grid="gridOptions" ui-grid-pagination
					ui-grid-resize-columns ui-grid-move-columns ui-grid-pinning
					ui-grid-selection ui-grid-exporter ui-grid-auto-resize ui-grid-grouping ui-grid-save-state></div>
				<p>Current page: {{ gridApi.pagination.getPage() }} of {{
					gridApi.pagination.getTotalPages() }}</p>
			</div>
		</div>
		</div>
		<!-- end grid view option -->
	</div>
	<!-- /.container-fluid -->
</section>
<script>		
	    $(function(){
	    	$('#example').DataTable();
	    });
	    function editData(id) {
	    	$scope =angular.element(document.getElementById('addCurrency')).scope();
	    	$scope.editData(id);
	    	
		}
	</script>

